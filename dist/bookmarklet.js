javascript:!function(){let t=window.location.hostname===''&&window.location.pathname.match(/\/chapter\/[0-9]+\.html$/),e=window.location.hostname==='www.hpmor.com'&&window.location.pathname.match(/\/chapter\/[0-9]+$/);if(!t&&!e){console.error('hpmor-annotations: Unrecognized site, aborting.');return}while(document.body.children.length>0)document.body.removeChild(document.body.children[0]);let n=document.createElement('iframe');n.src=window.location.href;n.style.width='100vw';n.style.height='100vh';n.style.border='none';let o=document.createElement('script');o.src=t?'../dist/annotate.js':'https://tryneus.github.io/hpmor-annotations/dist/annotate.js';let a=document.createElement('div');a.style.position='absolute';a.style.left='0';a.style.top='0';a.style.width='100vw';a.style.height='100vh';a.style.border='none';a.style['pointer-events']='none';n.addEventListener('load',()=>{Array.from(n.contentDocument.getElementsByTagName('a')).map(t=>{t.target==='_top'&&(t.target='_self')});n.contentDocument.getElementById('nav-form-top').target='_self';let t=n.contentWindow.location.href;window.history.replaceState({},'',t);document.title=n.contentDocument.title;let e=t.match(/\/([0-9]+)$/),r=e&&parseInt(e[1]),c=n.contentDocument.getElementById('storycontent');c?annotate?annotate(n,a,r):(o.onload=()=>annotate(n,a,r)):console.error('hpmor-annotations: Could not find story content.')});document.body.appendChild(n);document.body.appendChild(a);document.body.appendChild(o)}()
{"version":3,"file":null,"sources":[null],"sourcesContent":["(() => {\n  // This whole thing could probably be simplified by using more globals, but w/e\n  // Used to track the currently displayed note\n  let activeNote;\n\n  // Used to control whether spoilers are visible\n  const showSpoilers = true;\n\n  // Used for development environment shortcuts\n  const isLocal =\n    window.location.hostname === '' &&\n    window.location.pathname.match(/\\/chapter\\/[0-9]+\\.html$/);\n\n  const colors = {\n    'foreshadowing': '#aaa',\n    'consequence': '#fbf',\n    'reference': '#77f',\n    'departure': '#f90',\n    'original': '#9e5',\n    'speculation': '#fbf',\n    'background': '#30f',\n    'spoiler': '#f00',\n    'default': '#0000', // Only used if all notes have been filtered\n  };\n\n  const getPrimaryTag = (annotation) => {\n    // Ignore notes with spoilers if showSpoilers is false\n    const notes = annotation.notes.filter((x) => showSpoilers || !x.tags.includes('spoiler'));\n    return (notes[0] && notes[0].tags[0]) || 'default';\n  };\n\n  const saveLocation = () => {\n    const frame = document.getElementById('hpmor-annotations-frame');\n    window.location.replace(frame.contentWindow.location.href);\n  };\n\n  const positionNotes = () => {\n    // TODO: use an overlay layout if not enough x space\n    const frame = document.getElementById('hpmor-annotations-frame');\n    const content = frame.contentDocument.getElementById('hpmor-annotations-wrapped-content');\n    const notes = Array.from(frame.contentDocument.getElementsByClassName('hpmor-annotations-note'));\n\n    notes.forEach((note) => {\n      const id = note.id.match(/^(hpmor-[0-9]+-[0-9]+)-note$/)[1];\n      const range = frame.contentDocument.getElementById(`${id}-range`);\n      const spans = Array.from(frame.contentDocument.getElementsByTagName('span'))\n        .filter((span) =>\n          span.attributes.annotation &&\n            span.attributes.annotation.value === id);\n\n      // Find the top/bottom offsets of the annotation\n      const dimensions = spans.reduce((acc, span) => {\n        const r = span.getBoundingClientRect();\n        return {\n          top: (acc && (acc.top < r.top ? acc.top : r.top)) || r.top,\n          bottom: (acc && (acc.bottom > r.bottom ? acc.bottom : r.bottom)) || r.bottom,\n        };\n      }, {});\n\n      if (dimensions.top && dimensions.bottom) {\n        // Position the note so that it sits next to the annotated text\n        note.style.width = `${content.getBoundingClientRect().left + frame.contentWindow.pageXOffset}px`;\n        note.style.top = `${dimensions.top + frame.contentWindow.pageYOffset}px`;\n        note.style.height = `${dimensions.bottom - dimensions.top}px`;\n\n        range.style.left = `${content.getBoundingClientRect().right + frame.contentWindow.pageXOffset}px`;\n        range.style.top = note.style.top;\n        range.style.height = note.style.height;\n      } else {\n        // The spans could not be located, disable the associated range and note\n        console.error('hpmor-annotations: Could not find span for annotation', id);\n        note.style.display = 'none';\n        range.style.display = 'none';\n      }\n    });\n  };\n\n  const replaceJQueryClickEvents = (jquery, element, fn) => {\n    jquery.data(element, 'events').click.forEach((data) => {\n      jquery(element).unbind('click', data.handler);\n    });\n\n    jquery(element).bind('click', fn);\n  };\n\n  const installResizer = (frameWindow, frameDocument) => {\n    const jquery = frameWindow.$;\n    const smaller = frameDocument.getElementById('smaller').firstChild;\n    const original = frameDocument.getElementById('original').firstChild;\n    const bigger = frameDocument.getElementById('bigger').firstChild;\n\n    // TODO: these all ignore cookies, can end up in a weird state with the\n    // stuff that loads from cookies\n\n    // Remove any state from the #storycontent element\n    frameDocument.getElementById('storycontent').style = null;\n\n    replaceJQueryClickEvents(jquery, smaller, () => {\n      jquery('#storycontent').css('font-size', '-=1');\n      jquery('.hpmor-annotations-note-tags').css('font-size', '-=1');\n      jquery('.hpmor-annotations-note-text').css('font-size', '-=1');\n      positionNotes();\n    });\n\n    replaceJQueryClickEvents(jquery, original, () => {\n      jquery('#storycontent').css('font-size', '16px');\n      jquery('.hpmor-annotations-note-tags').css('font-size', '15px');\n      jquery('.hpmor-annotations-note-text').css('font-size', '12px');\n      positionNotes();\n    });\n\n    replaceJQueryClickEvents(jquery, bigger, () => {\n      jquery('#storycontent').css('font-size', '+=1');\n      jquery('.hpmor-annotations-note-tags').css('font-size', '+=1');\n      jquery('.hpmor-annotations-note-text').css('font-size', '+=1');\n      positionNotes();\n    });\n\n    const fullwidth = frameDocument.getElementById('fullwidth').firstChild;\n    const readwidth = frameDocument.getElementById('readwidth').firstChild;\n\n    replaceJQueryClickEvents(jquery, fullwidth, () => {\n      jquery('#hpmor-annotations-wrapped-content').css('max-width', '98%');\n      jquery('#hpmor-annotations-left-panel').css('display', 'none');\n      jquery('#hpmor-annotations-right-panel').css('display', 'none');\n      positionNotes();\n    });\n\n    replaceJQueryClickEvents(jquery, readwidth, () => {\n      jquery('#hpmor-annotations-wrapped-content').css('max-width', '42em');\n      jquery('#hpmor-annotations-left-panel').css('display', 'block');\n      jquery('#hpmor-annotations-right-panel').css('display', 'block');\n      positionNotes();\n    });\n\n    // inverter should work like normal\n    // TODO: it doesn't invert the span underlines\n  };\n\n  const dismissNote = () => {\n    // This happens if someone clicks on the div of a hidden note\n    if (!activeNote) {\n      return;\n    }\n\n    activeNote.style.display = null;\n    activeNote = null;\n  };\n\n  const installNotes = (innerDocument, annotations) => {\n    const oldNotes = innerDocument.getElementById('hpmor-annotations-notes');\n\n    if (oldNotes) {\n      oldNotes.parentNode.removeChild(oldNotes);\n    }\n\n    const invertable = innerDocument.getElementById('invertable');\n    const notes = innerDocument.createElement('div');\n    notes.id = 'hpmor-annotations-notes';\n    invertable.insertBefore(notes, invertable.childNodes[0]);\n\n    // For each annotation, add a div which is hidden until the annotation is clicked\n    Object.values(annotations).forEach((annotation) => {\n      const color = colors[getPrimaryTag(annotation)];\n      const note = document.createElement('div');\n      note.id = `${annotation.id}-note`;\n      note.className = 'hpmor-annotations-note';\n      note.onclick = dismissNote;\n\n      // Filter out spoilers if requested\n      const visibleNotes = annotation.notes.filter((x) => showSpoilers || !x.tags.includes('spoiler'));\n      const noteTags = Array.from(new Set(visibleNotes.reduce((acc, x) => acc.concat(x.tags), []))).join(' / ');\n      const noteText = visibleNotes.map((x) => `\n        <p>${x.note}</p>\n      `).join('\\n');\n\n      // TODO: include an icon linking to the source code for the annotation\n      note.innerHTML = `\n        <div class=\"hpmor-annotations-note-content\">\n          <div class=\"hpmor-annotations-note-tags\" style=\"background: ${color}\">${noteTags}</div>\n          <div class=\"hpmor-annotations-note-text\" style=\"border-color: ${color}\">${noteText}</div>\n        </div>\n        <div class=\"hpmor-annotations-note-bracket\" style=\"border-color: ${color}\"></div>\n      `;\n\n      notes.appendChild(note);\n    });\n  };\n\n  const getNoteDiv = (id) => {\n    return document.getElementById('hpmor-annotations-frame').contentDocument.getElementById(`${id}-note`);\n  };\n\n  const toggleNote = (id, ev) => {\n    const note = getNoteDiv(id);\n\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    if (activeNote) {\n      if (activeNote !== note) {\n        dismissNote();\n      } else {\n        dismissNote();\n        return;\n      }\n    }\n\n    note.style.display = 'flex';\n    activeNote = note;\n  };\n\n  const installRanges = (innerDocument, annotations) => {\n    const oldRanges = innerDocument.getElementById('hpmor-annotations-ranges');\n\n    if (oldRanges) {\n      oldRanges.parentNode.removeChild(oldRanges);\n    }\n\n    const invertable = innerDocument.getElementById('invertable');\n    const ranges = innerDocument.createElement('div');\n    ranges.id = 'hpmor-annotations-ranges';\n    invertable.insertBefore(ranges, invertable.childNodes[0]);\n\n    Object.values(annotations).forEach((annotation) => {\n      const color = colors[getPrimaryTag(annotation)];\n      const range = document.createElement('div');\n      range.id = `${annotation.id}-range`;\n      range.className = 'hpmor-annotations-range-container';\n      range.innerHTML = `\n        <div class=\"hpmor-annotations-range-box\">\n          <div class=\"hpmor-annotations-range-divider\"></div>\n          <div class=\"hpmor-annotations-range\" style=\"background: ${color}\"></div>\n        </div>\n      `;\n\n      // Allow clicking the range to toggle notes\n      const rangeBox = range.getElementsByClassName('hpmor-annotations-range-box')[0];\n      rangeBox.onclick = (ev) => toggleNote(annotation.id, ev);\n\n      ranges.appendChild(range);\n    });\n  };\n\n  const getTextSpans = (content) => {\n    return Array.from(content.getElementsByClassName('hpmor-annotations-span'));\n  };\n\n  const installSpans = (content, annotations) => {\n    getTextSpans(content).forEach((span) => {\n      span.outerHTML = span.innerHTML;\n    });\n\n    // Normalize the HTML so we can find and replace\n    let innerHTML = content.innerHTML.replace(/[\\n ]+/g, ' ');\n\n    // Wrap the annotated text in spans so we can underline and expand on click\n    Object.values(annotations).forEach((annotation) => {\n      // TODO: this is only replacing the first occurence, use expect/useIndex\n      innerHTML = innerHTML.replace(annotation.text, annotation.replacement);\n    });\n\n    content.innerHTML = innerHTML;\n\n    getTextSpans(content).forEach((span) => {\n      const id = span.attributes.annotation.value;\n      const annotation = annotations[id];\n\n      if (!annotation) {\n        console.error('hpmor-annotations: Could not find annotation', id);\n        return null;\n      }\n\n      const color = colors[getPrimaryTag(annotation)];\n      span.style['text-decoration-color'] = color;\n\n      span.onclick = (ev) => toggleNote(id, ev);\n      // TODO: onhover handler to show tooltip with tags\n    });\n  };\n\n  const installFont = (frameDocument) => {\n    if (!frameDocument.getElementById('fontawesome')) {\n      const script = frameDocument.createElement('script');\n      script.id = 'fontawesome';\n      script.src = 'https://use.fontawesome.com/releases/v5.7.2/js/all.js';\n      script.crossorigin = 'anonymous';\n\n      frameDocument.head.appendChild(script);\n    }\n  };\n\n  const installCss = (frameDocument) => {\n    if (!frameDocument.getElementById('hpmor-annotations-css')) {\n      const styleElement = frameDocument.createElement('style');\n      styleElement.id = 'hpmor-annotations-css';\n      styleElement.type = 'text/css';\n      frameDocument.head.appendChild(styleElement);\n    }\n\n    const css = frameDocument.getElementById('hpmor-annotations-css');\n    css.innerHTML = `\n  #storycontent {\n    display: flex;\n    flex-direction: row;\n    justify-content: center;\n    margin-left: unset;\n    margin-right: unset;\n    max-width: none;\n  }\n\n  #hpmor-annotations-wrapped-content {\n    flex: 0 0 auto;\n    max-width: 42em;\n  }\n\n  #hpmor-annotations-left-panel {\n    flex: 1 1 300px;\n  }\n\n  #hpmor-annotations-right-panel {\n    flex: 1 3 300px;\n  }\n\n  .hpmor-annotations-note {\n    position: absolute;\n    left: 0;\n    cursor: default;\n    display: none;\n    justify-content: flex-end;\n  }\n\n  .hpmor-annotations-note-content {\n    flex: 1 0 auto;\n    width: 75%;\n    padding-left: 5px;\n    display: flex;\n    flex-direction: column;\n    word-wrap: break-word;\n  }\n\n  .hpmor-annotations-note-tags {\n    font: 600 15px \"PT Sans\", Georgia;\n    font-variant: all-small-caps;\n    border-radius: 5px 5px 0 0;\n    padding: 0 7px;\n  }\n\n  .hpmor-annotations-note-text {\n    border-radius: 0 0 5px 5px;\n    background: #f0f0f0;\n    border-width: 1px;\n    font: 12px sans-serif;\n    padding: 0px 7px;\n  }\n\n  .hpmor-annotations-note-bracket {\n    min-width: 3px;\n    border-style: solid;\n    border-width: 2px;\n    border-right-color: #fff0 !important;\n    margin: 0 5px;\n    flex: 0 0 auto;\n  }\n\n  .hpmor-annotations-range-container {\n    position: absolute;\n    height: 100%;\n    align-items: center;\n    justify-content: flex-end;\n    pointer-events: none;\n  }\n\n  .hpmor-annotations-range-box {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    margin-left: 5px;\n    padding-left: 2px;\n    padding-right: 2px;\n    cursor: pointer;\n    pointer-events: auto;\n  }\n\n  .hpmor-annotations-range-divider {\n    flex: 0 0 1px;\n    background: white;\n  }\n\n  .hpmor-annotations-range {\n    flex: 1 0 auto;\n    width: 3px;\n  }\n\n  .hpmor-annotations-link {\n    text-decoration: none;\n  }\n\n  .hpmor-annotations-link:hover {\n    text-decoration: underline;\n  }\n\n  .hpmor-annotations-span {\n    text-decoration-style: dotted;\n    text-decoration-line: underline;\n    cursor: pointer;\n  }\n    `;\n  };\n\n  // Weight the left and right margins differently so we get a little more space\n  // to put the annotations in.\n  const wrapContent = (frameDocument, content) => {\n    // Check if we've already wrapped content and return the inner div\n    if (!frameDocument.getElementById('hpmor-annotations-wrapped-content')) {\n      content.innerHTML = `\n        <div id=\"hpmor-annotations-left-panel\"></div>\n        <div id=\"hpmor-annotations-wrapped-content\">\n          ${content.innerHTML}\n        </div>\n        <div id=\"hpmor-annotations-right-panel\"></div>`;\n    }\n\n    return frameDocument.getElementById('hpmor-annotations-wrapped-content');\n  };\n\n  const fetchAnnotations = (frame, chapter, callback) => {\n    const oldScript = frame.contentDocument.getElementById('hpmor-annotations-data');\n    if (oldScript) {\n      oldScript.parentNode.removeChild(oldScript);\n    }\n\n    const newScript = frame.contentDocument.createElement('script');\n    newScript.id = 'hpmor-annotations-data';\n\n    if (isLocal) {\n      newScript.src = `../dist/annotation/${chapter}.js`;\n    } else {\n      newScript.src = `https://tryneus.github.io/hpmor-annotations/dist/annotation/${chapter}.js`;\n    }\n\n    newScript.onload = () => {\n      callback(frame.contentWindow.hpmorAnnotationsData);\n    };\n\n    frame.contentDocument.head.appendChild(newScript);\n  };\n\n  const installFrame = () => {\n    // Reload the page in an iframe, change links so that they only navigate the\n    // iframe instead of the top-level window, then apply the annotations to the\n    // iframe story contents any time a new page is loaded.\n    // TODO: do we need to / can we do some cleanup if the user navigates away from hpmor?\n    if (!document.getElementById('hpmor-annotations-frame')) {\n      while (document.body.children.length > 0) {\n        document.body.removeChild(document.body.children[0]);\n      }\n\n      const newFrame = document.createElement('iframe');\n      newFrame.id = 'hpmor-annotations-frame';\n\n      // TODO: is it possible to move the existing body into the iframe without reloading?\n      // maybe set innerHTML?\n      newFrame.src = window.location.href;\n      document.body.appendChild(newFrame);\n    }\n\n    const frame = document.getElementById('hpmor-annotations-frame');\n    frame.style.width = '100vw';\n    frame.style.height = '100vh';\n    frame.style.border = 'none';\n\n    // eslint-disable-next-line no-use-before-define\n    frame.addEventListener('load', handleFrameLoad);\n\n    // Reposition the active note if the window is resized\n    window.addEventListener('resize', positionNotes);\n\n    // Update the URL of the current page because refreshing doesn't\n    // use our replaced history state\n    window.addEventListener('beforeunload', saveLocation);\n\n    return frame;\n  };\n\n  const annotate = () => {\n    const frame = installFrame();\n\n    if (!frame) {\n      console.error('hpmor-annotations: Could not find iframe');\n    } else {\n      const href = frame.contentWindow.location.href;\n      const matches = href.match(/\\/([0-9]+)(\\.html)?(#.*)?$/);\n      const chapter = matches && parseInt(matches[1]);\n      const content = frame.contentDocument.getElementById('storycontent');\n\n      if (!chapter) {\n        console.error('hpmor-annotations: Could not determine chapter', href);\n      } else if (!content) {\n        console.error('hpmor-annotations: Could not find story content');\n      } else {\n        fetchAnnotations(frame, chapter, ({annotations}) => {\n          installCss(frame.contentDocument);\n          installFont(frame.contentDocument);\n          const innerContent = wrapContent(frame.contentDocument, content);\n          installResizer(frame.contentWindow, frame.contentDocument);\n          installSpans(innerContent, annotations);\n          installNotes(frame.contentDocument, annotations);\n          installRanges(frame.contentDocument, annotations);\n          positionNotes();\n        });\n      }\n    }\n  };\n\n  const handleFrameLoad = () => {\n    const frame = document.getElementById('hpmor-annotations-frame');\n    const innerDocument = frame.contentDocument;\n\n    // Rewrite links to open in this frame\n    Array.from(innerDocument.getElementsByTagName('a')).forEach((x) => {\n      if (x.target === '_top') {\n        x.target = '_self';\n      }\n    });\n\n    // The chapter select drop-down navigates from the top as well\n    innerDocument.getElementById('nav-form-top').target = '_self';\n\n    // Update the window title/url and get the chapter number for annotations\n    window.history.replaceState({}, '', frame.contentWindow.location.href);\n    document.title = innerDocument.title;\n\n    activeNote = null;\n    annotate();\n  };\n\n  const toExport = {installFrame, annotate};\n\n  // Dev function for quicker debugging\n  if (isLocal) {\n    toExport.reloadScript = () => {\n      const oldScript = document.getElementById('hpmor-annotations-script');\n\n      if (!oldScript) {\n        console.error('Could not find script to reload.');\n      } else {\n        // Clear any event listeners that we installed\n        const frame = document.getElementById('hpmor-annotations-frame');\n        frame.removeEventListener('load', handleFrameLoad);\n        window.removeEventListener('resize', positionNotes);\n        window.removeEventListener('beforeunload', saveLocation);\n\n        const newScript = document.createElement('script');\n        newScript.src = oldScript.src.replace('dist', 'src');\n        newScript.id = 'hpmor-annotations-script';\n\n        // Drop the old script element and add a new one\n        oldScript.parentNode.removeChild(oldScript);\n        document.head.appendChild(newScript);\n      }\n    };\n  }\n\n  // Export everything for unit tests\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = toExport;\n  } else {\n    window.hpmorAnnotations = toExport;\n  }\n})();\n"],"names":["activeNote","showSpoilers","isLocal","colors","getPrimaryTag","saveLocation","positionNotes","replaceJQueryClickEvents","installResizer","dismissNote","installNotes","getNoteDiv","toggleNote","installRanges","getTextSpans","installSpans","installFont","installCss","wrapContent","fetchAnnotations","installFrame","annotate","handleFrameLoad","toExport","annotation","notes","x","frame","content","note","id","range","spans","dimensions","span","acc","r","jquery","element","fn","data","frameWindow","frameDocument","smaller","original","bigger","fullwidth","readwidth","innerDocument","annotations","oldNotes","invertable","color","visibleNotes","noteTags","noteText","ev","oldRanges","ranges","rangeBox","innerHTML","script","css","styleElement","chapter","callback","oldScript","newScript","newFrame","href","matches","innerContent"],"mappings":"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"}